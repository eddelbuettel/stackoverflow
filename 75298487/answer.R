
library(data.table)
D <- fread(text="Id,    final_date_time, Speed
2022484408, 2016-04-12 07:21:00,    97
2022484405, 2016-04-12 07:21:05,   102
2022484402, 2016-04-12 07:21:10,   105
2022484407, 2016-04-12 07:21:20,   103
2022484408, 2016-04-12 07:21:25,   101
2022484408, 2016-04-12 07:22:05,    95
2022484410, 2016-04-12 07:22:10,    91
2022484408, 2016-04-12 07:22:15,    93
2022484421, 2016-04-12 07:22:20,    94
2022484408, 2016-04-12 07:22:25,    93
2022484421, 2016-04-12 07:22:35,    92
2022484421, 2016-04-12 07:22:40,    89
2022484447, 2016-04-12 07:22:50,    83
2022484488, 2016-04-12 07:22:55,    61
2022484411, 2016-04-12 07:23:00,    60")

D[, min := as.POSIXct(round(final_date_time, "mins"))][, .(avgspeed=mean(Speed)), by=min]
